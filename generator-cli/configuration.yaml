main:
  type: join
  number: 1000000
  sample:
    type: context # define context to share 'gn' generator value
    hold: [ gn ]
    sample:
      type: template
      template: |+
        insert into `User` (id, gender, fn, ln, age) values ({0}, "{1}", "{2}", "{3}", "{4}");
      samples:
        - type: seqInt
        - gn
        - type: case   # switch by gn value
          sample: gn
          cases:
            - { value: m, sample: { type: TextName, l: Russian, g: m }}
            - { value: f, sample: { type: TextName, l: Russian, g: f }}
        - ln
        - age
generators:
  - id: gn
    type: rndStrSet
    samples: [ m, f ]
  - id: ln
    type: rndSurname
    l: Russian
  - id: age
    type: rndInt
    shift: 21
    count: 30
  - id: rn
    type: rndName
    l: Russian